# Watch Service Project

이 프로젝트는 다양한 브랜드의 시계를 조회하고 필터링 및 정렬할 수 있는 웹 서비스입니다.

## 프로젝트 구조

| 분류 | 경로 | 설명 |
| :--- | :--- | :--- |
| **Frontend** | `index.html` | 메인 페이지 (브랜드/가격 필터, 정렬 기능 포함) |
| | `app.js` | 메인 페이지 비즈니스 로직 및 렌더링 |
| | `detail.html` | 상세 정보 페이지 |
| | `detail.js` | 상세 정보 페이지 로직 |
| | `style.css` | 프로젝트 전체 스타일시트 |
| **Data** | `final/data/watches_ui.json` | 시계 데이터베이스 (JSON 포맷) |
| **Assets** | `final/image/normalized/` | 규격화된 상품 이미지 폴더 |
| **Config** | `.gitignore` | Git 관리 제외 설정 파일 |
| | `README.md` | 프로젝트 가이드 및 구조 문서 |

### 목표
- 맥북 Desktop에 프로젝트 생성
- work / final / web 구조 분리

### 완료 기준
- [x] Desktop/watchservice 폴더 생성
- [x] work / final / web 폴더 생성
- [x] web 폴더에 index.html, styles.css, app.js 생성
- [x] tree 명령어로 폴더 구조 확인

### 완료 날짜
- 2026-01-21

---

## 프로젝트 규칙 (Path / Data / Role)

이 문서는 **코드를 수정하지 않고도** 프로젝트가 커져도 안정적으로 동작하도록, 팀/미래의 나를 위한 **규칙(원칙)** 을 정의합니다.

### 1) 경로(Path) 규칙

- **기본 원칙(가장 중요)**: `watches_ui.json` 안의 `image` 경로는 **절대경로(`/...`) 금지**, **상대경로 사용**을 기본으로 합니다.
  - **이유**: GitHub Pages처럼 `https://도메인/레포이름/` 처럼 **하위 경로**로 배포되면 `/final/...`은 도메인 루트(`/`) 기준으로 찾기 때문에 **이미지가 깨질 수 있습니다.**
- **상대경로 기준점(무엇을 기준으로 상대인가?)**
  - **규칙**: 루트 폴더의 HTML(`index.html`, `detail.html`)에서 그대로 사용할 수 있는 경로로 작성합니다.
  - 즉, 루트에서 봤을 때 `final/`로 이어지는 상대경로를 씁니다.
- **권장 경로 형태**
  - **권장**: `./final/image/normalized/<파일명>.png`
  - **금지**: `/final/image/normalized/<파일명>.png`
- **배포 환경 원칙 (로컬/서브패스/GitHub Pages)**
  - **규칙**: “사이트가 어떤 경로에 올라가도 동작”을 목표로 하면, **JSON 이미지 경로 + fetch 경로 + 페이지 링크를 모두 상대경로로 통일**합니다.
  - **체크리스트**
    - **JSON `image`**: 앞에 `/`가 없는가?
    - **데이터 fetch**: `final/data/watches_ui.json`을 상대경로로 읽는가?
    - **detail 링크**: `./detail.html?ref=...` 같은 상대 링크인가?

### 2) 데이터(Data) 규칙

- **`ref` 규칙 (역할 / 유니크 보장)**
  - **역할**: `ref`는 “상품의 고유 ID”입니다.
    - index에서 카드 클릭 시 `detail.html?ref=...`로 이동할 때 사용합니다.
    - detail에서 JSON 목록에서 해당 상품을 찾을 때 키로 사용합니다.
  - **유니크 보장 규칙**: `watches_ui.json` 안에서 **`ref`는 절대 중복되면 안 됩니다.**
  - **형식 권장**
    - **권장**: 소문자/숫자/하이픈 조합 (예: `m79000-0001`)
    - **금지**: 공백, 한글, 슬래시(`/`), `?`, `#` 등 URL에 민감한 문자
  - **변경 원칙**: 한번 공개/배포한 `ref`는 가능한 한 **변경하지 않습니다.**

- **`price` 규칙 (표시용 vs 계산용 분리 권장)**
  - **문제**: `"21,060,000원"` 같은 문자열은 화면 표시는 쉽지만, 나중에 **정렬/필터/최소~최대 가격 계산**을 하려면 불리합니다.
  - **권장 규칙**: 가격은 “표시용”과 “계산용”을 분리합니다.
    - **`price_display`**: 화면 표시용 문자열 (예: `"21,060,000원"`)
    - **`price_value`**: 계산/정렬용 숫자(원 단위 정수) (예: `21060000`)
  - **원칙**: 정렬/필터/통계는 **항상 `price_value`로만** 처리합니다.

- **목록/상세 공통 데이터(최소 필드)**
  - **필수(최소)**:
    - **`ref`**: 고유 ID (detail 찾기용)
    - **`brand`**: 브랜드 (필터/표시용)
    - **`name`**: 모델명 (표시용)
    - **`image`**: 이미지 경로 (표시용)
    - **`price_display`** 또는 현재의 **`price`**: 화면 표시용
  - **강력 권장(향후 필터/정렬)**:
    - **`price_value`**: 숫자 가격 (정렬/필터/계산용)

### 3) 폴더 역할(Role) 규칙

- **`work/` (데이터 생성·가공 파이프라인 공간)**
  - **책임**: 스크래핑/정리/변환/정규화 등 “데이터를 만드는 과정”을 둡니다.
  - **원칙**: 중간 산출물(원본/임시 파일)은 `work/`에만 둡니다.
  - **변경 허용**: 실험/반복/폐기 가능 (여기는 어지러워져도 OK)

- **`final/` (웹이 직접 사용하는 최종 결과물)**
  - **책임**: `web/`이 바로 읽어서 화면에 보여줄 **최종 JSON + 최종 이미지**만 둡니다.
  - **원칙**: `final/`은 “배포 대상”이며, 내용은 항상 **완결된 상태**여야 합니다.
  - **구성**
    - `final/data/watches_ui.json`: UI 데이터의 단일 소스(Single Source of Truth)
    - `final/image/normalized/`: UI에서 사용하는 이미지 표준 위치

- **Root (정적 프론트엔드/UI)**
  - **책임**: 화면 렌더링(목록/상세), 필터/정렬 같은 UI 로직만 담당합니다.
  - **원칙**: 루트에 위치한 파일들은 데이터를 “생성”하지 않고, **`final/`을 읽어서(consuming) 보여주기만** 합니다.
  - **소비 규칙**
    - **데이터 소스**: `final/data/watches_ui.json` 하나를 목록/상세에서 공통으로 사용합니다.
    - **상세 이동**: `detail.html?ref=...` 형태로 이동하고, detail은 `ref`로 JSON에서 찾습니다.
    - **이미지 표시**: JSON의 `image` 값을 그대로 `<img src="...">`에 넣어도 안전하도록 **Path 규칙**을 지킵니다.

---

## 새 시계 1개 추가 체크리스트 (추천)

- **데이터**
  - **`ref`**: 중복 없는 고유값인가?
  - **`brand`/`name`**: 화면 표시용 텍스트가 깔끔한가?
  - **`price_display`(또는 `price`)**: 표시 형식이 기존과 일관적인가?
  - **`price_value`(사용 시)**: 숫자(정수)로 들어갔는가?
- **이미지**
  - 파일이 `final/image/normalized/`에 있는가?
  - JSON의 `image`는 **상대경로** 규칙을 지키는가? (앞에 `/` 없음)
- **동작**
  - 목록에서 카드가 뜨는가?
  - 카드 클릭 시 `detail.html?ref=...`로 이동하고 상세가 정상 표시되는가?


---

## 기능 목표 기록

### index: 검색결과 총 n개 표시

- **목표**: index 페이지에서 “필터가 적용된 최종 리스트” 기준으로 `검색결과 총 n개`를 표시한다.
- **조건**
  - 기존 기능(카드 렌더링, 카드 클릭, 브랜드 필터)을 깨지지 않게 유지한다.
  - 변경은 최소화한다.
